function solve(){let e=!1;do{for(e=!1,i=1;i<=9;i++)for(j=1;j<=9;j++)isSolved(i,j)&&eliminateCorrespondingCandidates(i,j);for(i=1;i<=9;i++)for(j=1;j<=9;j++)isSolved(i,j)||(trySolveForSingleCandidate(i,j),!e&&isSolved(i,j)&&(e=!0));console.log("Loop complete!  hasBeenSolved is: "+e)}while(e&&!isSudokuComplete())}function eliminateCorrespondingCandidates(e,t){const o=document.querySelector('[data-row="'+e+'"][data-col="'+t+'"]');let a=[...document.querySelectorAll('[data-row="'+e+'"], [data-col="'+t+'"]'),...o.parentElement.children];(a=(a=[...new Set(a)]).filter(e=>!isSolved(e.dataset.row,e.dataset.col))).forEach(function(e){removeCandidate(parseInt(e.dataset.row),parseInt(e.dataset.col),parseInt(o.value))})}function removeCandidate(e,t,o){let a=document.querySelector('[data-row="'+e+'"][data-col="'+t+'"]'),n=JSON.parse(a.dataset.candidates);n=n.filter(e=>e!==o);let l=JSON.stringify(n);a.dataset.candidates=l,console.log(o+" removed from "+e+":"+t)}function trySolveForSingleCandidate(e,t){let o=document.querySelector('[data-row="'+e+'"][data-col="'+t+'"]');return candidates=JSON.parse(o.dataset.candidates),1==candidates.length&&(o.value=candidates[0],!0)}function isSolved(e,t){return!!document.querySelector('[data-row="'+e+'"][data-col="'+t+'"]').value}function isSudokuComplete(){let e=Array.from(document.querySelectorAll("input[type=number]"));return 81===(e=e.filter(e=>e.value.length>0)).length?console.log("Sudoku Completed!"):console.log("Sudoku not completed: only "+e.length+"/81 inputs solved!"),81===e.length}function blockColRowInteraction(){Array.from(document.getElementsByClassName("group")).forEach(function(e){let t=Array.from(e.children);t=t.filter(e=>e.value<1);for(let e=1;e<=9;e++){let o=[];t.forEach(function(t){JSON.parse(t.dataset.candidates).includes(e)&&o.push([t.dataset.row,t.dataset.col])});for(let t=0;t<=1;t++)if(o.every(e=>e[t]===o[0][t])&&o.length>1){let a=[];o.forEach(function(e){a.push(parseInt(e[Math.abs(t-1)]))});for(let n=1;n<=9;n++)a.includes(n)||(0===t?removeCandidate(o[0][0],n,e):removeCandidate(n,o[0][1],e))}}})}document.getElementById("solve").addEventListener("click",solve),document.querySelectorAll("input[type=number]").forEach(function(e){e.addEventListener("change",function(){this.dataset.candidates="["+this.value+"]",console.log(this)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogRXZlbnQgbGlzdGVuZXJzIGZvciBpbnB1dHMgKi9cclxuXHJcbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlN1Ym1pdFwiIGJ1dHRvblxyXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29sdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNvbHZlKTtcclxuXHJcbi8vIEV2ZW50IGxpc3RlbmVyIGZvciBhbGwgaW5wdXRzXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9bnVtYmVyXScpLmZvckVhY2goZnVuY3Rpb24gKGlucCkge1xyXG4gICAgaW5wLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBTZXQgdGhpcyBpbnB1dCdzIGNhbmRpZGF0ZXMgdG8gb25seSB0aGlzIGlucHV0J3MgdmFsdWVcclxuICAgICAgICB0aGlzLmRhdGFzZXQuY2FuZGlkYXRlcyA9ICdbJyArIHRoaXMudmFsdWUgKyAnXSc7XHJcblxyXG4gICAgICAgIC8vIERlYnVnIGxvZ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLy8gSXRlcmF0ZSB0aHJvdWdoIGlucHV0cyB0cnlpbmcgdG8gc29sdmVcclxuZnVuY3Rpb24gc29sdmUoKSB7XHJcbiAgICBsZXQgc29sdmVGb3VuZFRoaXNMb29wID0gZmFsc2U7XHJcbiAgICBkbyB7XHJcbiAgICAgICAgLy8gUmVzZXQgZmxhZ1xyXG4gICAgICAgIHNvbHZlRm91bmRUaGlzTG9vcCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBIYW5kbGUgc29sdmVkIGlucHV0c1xyXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gOTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPD0gOTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzb2x2ZWQsIGVsaW1pbmF0ZSBjb3JyZXNwb25kaW5nIGNhbmRpZGF0ZXMgaW4gb3RoZXIgcG9zaXRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTb2x2ZWQoaSwgaikpIHtcclxuICAgICAgICAgICAgICAgICAgICBlbGltaW5hdGVDb3JyZXNwb25kaW5nQ2FuZGlkYXRlcyhpLCBqKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIHVuc29sdmVkIGlucHV0c1xyXG4gICAgICAgIGZvciAoaSA9IDE7IGkgPD0gOTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPD0gOTsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB1bnNvbHZlZCwgYXR0ZW1wdCB0byBzb2x2ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1NvbHZlZChpLCBqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNvbHZlIGlucHV0IGlmIHRoZXJlJ3Mgb25seSBvbmUgY2FuZGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5U29sdmVGb3JTaW5nbGVDYW5kaWRhdGUoaSwgaik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgc29sdmVGb3VuZFRoaXNMb29wIGlzIGZhbHNlIGFuZCBhIG5ldyBzb2x1dGlvbiBoYXMgYmVlbiBmb3VuZCwgc2V0IHNvbHZlRm91bmRUaGlzTG9vcCB0byB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb2x2ZUZvdW5kVGhpc0xvb3AgJiYgaXNTb2x2ZWQoaSwgaikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29sdmVGb3VuZFRoaXNMb29wID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRGVidWcgTG9nXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJMb29wIGNvbXBsZXRlISAgaGFzQmVlblNvbHZlZCBpczogXCIgKyBzb2x2ZUZvdW5kVGhpc0xvb3ApO1xyXG4gICAgfSB3aGlsZSAoc29sdmVGb3VuZFRoaXNMb29wICYmICFpc1N1ZG9rdUNvbXBsZXRlKCkpO1xyXG5cclxuICAgIC8vIFRPRE8gSW50ZWdyYXRlIGJsb2NrQ29sUm93SW50ZXJhY3Rpb24oKSBpbnRvIHRoZSBzb2x2ZVxyXG59XHJcblxyXG5mdW5jdGlvbiBlbGltaW5hdGVDb3JyZXNwb25kaW5nQ2FuZGlkYXRlcyhyb3csIGNvbCkge1xyXG5cclxuICAgIC8vIEdldCB2YWx1ZSBsb2NhdGlvbiBmcm9tIHJvdywgY29sXHJcbiAgICBjb25zdCBsb2NhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLXJvdz1cIicgKyByb3cgKyAnXCJdW2RhdGEtY29sPVwiJyArIGNvbCArICdcIl0nKTtcclxuXHJcbiAgICAvLyBBcnJheSBvZiBhbGwgZWxlbWVudHMgaW4gcm93LCBjb2x1bW4sIGFuZCBncm91cFxyXG4gICAgbGV0IGVsZW1lbnRzVG9FbGltaW5hdGUgPSBbXHJcbiAgICAgICAgLi4uZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcm93PVwiJyArIHJvdyArICdcIl0sIFtkYXRhLWNvbD1cIicgKyBjb2wgKyAnXCJdJyksXHJcbiAgICAgICAgLi4ubG9jYXRpb24ucGFyZW50RWxlbWVudC5jaGlsZHJlblxyXG4gICAgXVxyXG5cclxuICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzXHJcbiAgICBlbGVtZW50c1RvRWxpbWluYXRlID0gWy4uLm5ldyBTZXQoZWxlbWVudHNUb0VsaW1pbmF0ZSldXHJcbiAgICAvLyBSZW1vdmUgc29sdmVkIGlucHV0c1xyXG4gICAgZWxlbWVudHNUb0VsaW1pbmF0ZSA9IGVsZW1lbnRzVG9FbGltaW5hdGUuZmlsdGVyKGVsZW1lbnQgPT4gIShpc1NvbHZlZChlbGVtZW50LmRhdGFzZXQucm93LCBlbGVtZW50LmRhdGFzZXQuY29sKSkpO1xyXG4gICAgLy8gUmVtb3ZlIHZhbHVlIGZyb20gcmVtYWluaW5nIGNhbmRpZGF0ZXNcclxuICAgIGVsZW1lbnRzVG9FbGltaW5hdGUuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIHJlbW92ZUNhbmRpZGF0ZShwYXJzZUludChlbGVtZW50LmRhdGFzZXQucm93KSwgcGFyc2VJbnQoZWxlbWVudC5kYXRhc2V0LmNvbCksIHBhcnNlSW50KGxvY2F0aW9uLnZhbHVlKSk7XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuLy8gUmVtb3ZlIHZhbHVlIGZyb20gY2FuZGlkYXRlcyBhdCBsb2NhdGlvbiAocm93L2NvbClcclxuZnVuY3Rpb24gcmVtb3ZlQ2FuZGlkYXRlKHJvdywgY29sLCB2YWx1ZSkge1xyXG4gICAgLy8gU2VsZWN0IGxvY2F0aW9uIGRlcGVuZGluZyBvbiByb3cgYW5kIGNvbFxyXG4gICAgbGV0IGxvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcm93PVwiJyArIHJvdyArICdcIl1bZGF0YS1jb2w9XCInICsgY29sICsgJ1wiXScpO1xyXG4gICAgLy8gUGFyc2UgSlNPTlxyXG4gICAgbGV0IGNhbmRpZGF0ZXMgPSBKU09OLnBhcnNlKGxvY2F0aW9uLmRhdGFzZXQuY2FuZGlkYXRlcyk7XHJcbiAgICAvLyBSZW1vdmUgdmFsdWUgZnJvbSBjYW5kaWRhdGVzIGFycmF5XHJcbiAgICBjYW5kaWRhdGVzID0gY2FuZGlkYXRlcy5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSB2YWx1ZSk7XHJcbiAgICAvLyBDb252ZXJ0IGJhY2sgaW50byBKU09OIG9iamVjdFxyXG4gICAgbGV0IHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KGNhbmRpZGF0ZXMpO1xyXG4gICAgLy8gVXBkYXRlIGRhdGEtY2FuZGlkYXRlcyBhdHRyaWJ1dGUgYXQgbG9jYXRpb25cclxuICAgIGxvY2F0aW9uLmRhdGFzZXQuY2FuZGlkYXRlcyA9IHJlc3VsdDtcclxuICAgIC8vIERlYnVnIGxvZ1xyXG4gICAgY29uc29sZS5sb2codmFsdWUgKyBcIiByZW1vdmVkIGZyb20gXCIgKyByb3cgKyBcIjpcIiArIGNvbCk7XHJcbn1cclxuXHJcbi8vIElmIHRoZXJlIGlzIG9ubHkgb25lIGNhbmRpZGF0ZSBhdCBsb2NhdGlvbiwgc2V0IHRoYXQgaW5wdXQncyB2YWx1ZSB0byB0aGUgY2FuZGlkYXRlIGFuZCByZXR1cm4gdHJ1ZVxyXG5mdW5jdGlvbiB0cnlTb2x2ZUZvclNpbmdsZUNhbmRpZGF0ZShyb3csIGNvbCkge1xyXG4gICAgLy8gU2VsZWN0IGxvY2F0aW9uIGRlcGVuZGluZyBvbiByb3cgYW5kIGNvbFxyXG4gICAgbGV0IGxvY2F0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcm93PVwiJyArIHJvdyArICdcIl1bZGF0YS1jb2w9XCInICsgY29sICsgJ1wiXScpO1xyXG4gICAgLy8gUGFyc2UgSlNPTlxyXG4gICAgY2FuZGlkYXRlcyA9IEpTT04ucGFyc2UobG9jYXRpb24uZGF0YXNldC5jYW5kaWRhdGVzKTtcclxuICAgIC8vIElmIG9ubHkgb25lIGNhbmRpZGF0ZSBhdCBsb2NhdGlvbiwgc2V0IGxvY2F0aW9uJ3MgdmFsdWVcclxuICAgIGlmIChjYW5kaWRhdGVzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgbG9jYXRpb24udmFsdWUgPSBjYW5kaWRhdGVzWzBdO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFJldHVybnMgdHJ1ZSBpZiBpbnB1dCBoYXMgYSBudW1lcmljYWwgdmFsdWVcclxuZnVuY3Rpb24gaXNTb2x2ZWQocm93LCBjb2wpIHtcclxuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1yb3c9XCInICsgcm93ICsgJ1wiXVtkYXRhLWNvbD1cIicgKyBjb2wgKyAnXCJdJykudmFsdWUgPyB0cnVlIDogZmFsc2U7XHJcbn1cclxuXHJcbi8vIFJldHVybnMgdHJ1ZSBpZiBhbGwgaW5wdXRzIGhhdmUgYSB2YWx1ZVxyXG5mdW5jdGlvbiBpc1N1ZG9rdUNvbXBsZXRlKCkge1xyXG4gICAgLy8gR2V0IGFsbCBpbnB1dHMgb2YgdHlwZSBudW1iZXJcclxuICAgIGxldCByZXN1bHRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPW51bWJlcl0nKSk7XHJcbiAgICAvLyBGaWx0ZXIgb3V0IGFueSBpbnB1dHMgdGhhdCBoYXZlIG5vIHZhbHVlXHJcbiAgICByZXN1bHRzID0gcmVzdWx0cy5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LnZhbHVlLmxlbmd0aCA+IDApO1xyXG5cclxuICAgIC8vIERlYnVnIExvZ1xyXG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSA4MSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiU3Vkb2t1IENvbXBsZXRlZCFcIilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJTdWRva3Ugbm90IGNvbXBsZXRlZDogb25seSBcIiArIHJlc3VsdHMubGVuZ3RoICsgXCIvODEgaW5wdXRzIHNvbHZlZCFcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgdGhlIHJlc3VsdHMgYXJyYXkgaGFzIDgxIG1lbWJlcnMsIHRoZSBzdWRva3UgaXMgY29tcGxldGVcclxuICAgIHJldHVybiByZXN1bHRzLmxlbmd0aCA9PT0gODEgPyB0cnVlIDogZmFsc2U7XHJcbn1cclxuXHJcbi8vIEJsb2NrIGFuZCBjb2x1bW4vcm93IGludGVyYWN0aW9uXHJcbi8vIGh0dHBzOi8vd3d3LmtyaXN0YW5peC5jb20vc3Vkb2t1ZXBpYy9zdWRva3Utc29sdmluZy10ZWNobmlxdWVzLnBocFxyXG5mdW5jdGlvbiBibG9ja0NvbFJvd0ludGVyYWN0aW9uKCkge1xyXG4gICAgLy8gQ3JlYXRlIGFuIGFycmF5IG9mIGFsbCB0aGUgZ3JvdXBzXHJcbiAgICBsZXQgZ3JvdXBzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdncm91cCcpKTtcclxuICAgIC8vIEZvciBlYWNoIGdyb3VwXHJcbiAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXApIHtcclxuICAgICAgICAvLyBDcmVhdGUgYW4gYXJyYXkgb2YgYWxsIGlucHV0cyBpbiB0aGUgZ3JvdXBcclxuICAgICAgICBsZXQgaW5wdXRzID0gQXJyYXkuZnJvbShncm91cC5jaGlsZHJlbik7XHJcbiAgICAgICAgLy9SZW1vdmUgc29sdmVkIGNhbmRpZGF0ZXNcclxuICAgICAgICBpbnB1dHMgPSBpbnB1dHMuZmlsdGVyKGlucHV0ID0+IGlucHV0LnZhbHVlIDwgMSk7XHJcbiAgICAgICAgLy9Gb3IgZWFjaCBudW1iZXIgKGNhbmRpZGF0ZSkgYmV0d2VlbiAxLTlcclxuICAgICAgICBmb3IgKGxldCBjYW5kaWRhdGUgPSAxOyBjYW5kaWRhdGUgPD0gOTsgY2FuZGlkYXRlKyspIHtcclxuICAgICAgICAgICAgbGV0IGxvY2F0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgaW5wdXRzLmZvckVhY2goZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaW5wdXQncyBjYW5kaWRhdGVzIGNvbnRhaW4gdGhlIGNhbmRpZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKEpTT04ucGFyc2UoaW5wdXQuZGF0YXNldC5jYW5kaWRhdGVzKS5pbmNsdWRlcyhjYW5kaWRhdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHVzaCB0aGUgZGF0YS1jb2wgdmFsdWUgdG8gbG9jYXRpb25zXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zLnB1c2goW2lucHV0LmRhdGFzZXQucm93LCBpbnB1dC5kYXRhc2V0LmNvbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiBtb2RlID0gMDsgcm93cyBhcmUgaGFuZGxlZC4gIFdoZW4gbW9kZSA9IDE7IGNvbHVtbnMgYXJlIGhhbmRsZWRcclxuICAgICAgICAgICAgZm9yIChsZXQgbW9kZSA9IDA7IG1vZGUgPD0gMTsgbW9kZSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBhbGwgbGluZSBsb2NhdGlvbiB2YWx1ZXMgaW4gdGhlIGFycmF5IGFyZSBlcXVhbFxyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2F0aW9ucy5ldmVyeShsb2NhdGlvbiA9PiBsb2NhdGlvblttb2RlXSA9PT0gbG9jYXRpb25zWzBdW21vZGVdKSAmJiBsb2NhdGlvbnMubGVuZ3RoID4gMSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBGbGF0dGVuIDJEIGFycmF5IGludG8gMUQgYXJyYXkgb2YgbGluZSBsb2NhdGlvbnNcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZUxvY2F0aW9ucyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGguYWJzKG1vZGUtMSkgcmV0dXJucyAxIHdoZW4gbW9kZSA9IDAsIGFuZCAwIHdoZW4gbW9kZSA9IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGluZUxvY2F0aW9ucy5wdXNoKHBhcnNlSW50KGVsZW1lbnRbTWF0aC5hYnMobW9kZSAtIDEpXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGxpbmUgPSAxOyBsaW5lIDw9IDk7IGxpbmUrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWxpbmVMb2NhdGlvbnMuaW5jbHVkZXMobGluZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgY2FuZGlkYXRlIGZyb20gYWxsIGlucHV0cyB0aGF0IHNoYXJlIHRoYXQgcm93IG51bWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNhbmRpZGF0ZShsb2NhdGlvbnNbMF1bMF0sIGxpbmUsIGNhbmRpZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGNhbmRpZGF0ZSBmcm9tIGFsbCBpbnB1dHMgdGhhdCBzaGFyZSB0aGF0IGNvbHVtbiBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDYW5kaWRhdGUobGluZSwgbG9jYXRpb25zWzBdWzFdLCBjYW5kaWRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuIl19
